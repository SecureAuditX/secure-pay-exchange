<!DOCTYPE html>
<html lang="en">
<i>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinCryptiX Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="DashStyle.css">
    <!--BOOT-STRAP LINKS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="logo">FincryptiX</div>
            <ul class="nav">
                <li class="active"><i class="icon-overview"></i><strong>Overview</strong></li>
                <li><i class="icon-card"></i><a href="Exchange.html">Exchange</a></li>
                <li><i class="icon-payment"></i><a href="Payments.html">Payment</a></li>
                <li><i class="icon-activity"></i><a href="Livechat.html">Support</a></li>
                <li><i class="icon-setting"></i><a href="Settings.html">Settings</a></li>
                <li><i class="icon-logout"></i><a href="FinLogin.html">Log out</a></li>
            </ul>
            <div class="user-profile">
                <div class="profile-pic"><img src="Userdp.jpg" alt="Profile Picture" /></div>
                <span class="user-name">User-Name</span>
            </div>
        </aside>
        

        <main class="content">
            <div class="header">
                <h1>Good Morning!</h1>
                <div class="search-bar">
                    <input type="text" placeholder="Search...">
                    <i class="icon-search"></i>
                </div>
            </div>

            <div class="card-carousel">
                <div class="card active" style="background-color: #2962FF;">
                    <div class="card-details">
                        <div class="card-type">USD</div>
                        <div class="card-number">7869 **** **** 1234</div>
                        <div class="card-expiry">Exp: 12/28</div>
                    </div>
                </div>
                <div class="card" style="background-color: #FFC400;">
                    <div class="card-details">
                        <div class="card-type">Bitcoin</div>
                        <div class="card-number">3559 **** **** 5678</div>
                        <div class="card-expiry">Exp: 11/30</div>
                    </div>
                </div>
                <div class="card" style="background-color: #00C853;">
                    <div class="card-details">
                        <div class="card-type">USDT</div>
                        <div class="card-number">9087 **** **** 9012</div>
                        <div class="card-expiry">Exp: 10/27</div>
                    </div>
                </div>
                <div class="card" style="background-color: #D50000;">
                    <div class="card-details">
                        <div class="card-type">RMB</div>
                        <div class="card-number">1609 **** **** 3456</div>
                        <div class="card-expiry">Exp: 09/34</div>
                    </div>
                </div>
            </div>
            

            <div class="grid-container">
               <!-- Total Balance Widget -->
<div class="widget balance">
    <h3>Total Balance</h3>
    <h2 id="balanceAmount">$56138.00</h2>
    <p>USD</p>
    <button id="withdrawButton">Withdraw</button>
</div>
                <div class="widget earnings">
                    <h3>Earnings</h3>
                    <canvas id="earningsChart"></canvas>
                </div>
                <div class="widget financial-record">
                    <h3>Financial Record</h3>
                    <div class="record-item">
                        <span>Total Income</span>
                        <span>$874.99</span>
                    </div>
                    <div class="record-item">
                        <span>Total Expense</span>
                        <span>$321.49</span>
                    </div>
                    <div class="record-item">
                        <span>Total Saving</span>
                        <span>$420.74</span>
                    </div>
                </div>
                <div class="widget transactions">
                    <h3>Transactions</h3>
                    <ul id="transactionsList"></ul>
                </div>
                <div class="widget money-flow">
                    <h3>Money Flow</h3>
                    <canvas id="moneyFlowChart"></canvas>
                </div>
                
                <!-- Quick Transfer Widget -->
<div class="widget quick-transfer">
    <h3>Quick Transfer</h3>
    <input type="text" placeholder="Card Number" value="1234 5678 9012 3456" readonly>
    <input type="number" id="transferAmount" placeholder="Amount" value="0">
    <span class="currency">USD</span>
    <button class="transfer-button" id="transferButton">
        <i class="icon-send"></i> Transfer
    </button>
</div>
            </div>
        </main>
    </div>

   <script>
        
   // Wait for the DOM to load
document.addEventListener('DOMContentLoaded', function () {
    // Get the canvas context for the bar chart
    const barCtx = document.getElementById('earningsChart').getContext('2d');

    // Create a new bar chart
    const earningsChart = new Chart(barCtx, {
        type: 'bar', // Choose the type of chart (bar, line, pie, etc.)
        data: {
            labels: ['January', 'February', 'March', 'April', 'May', 'June'], // Labels for the x-axis
            datasets: [{
                label: 'Earnings ($)',
                data: [1200, 1900, 3000, 2500, 2800, 3200], // Example data points
                backgroundColor: 'rgba(75, 192, 192, 0.6)', // Bar color
                borderColor: 'rgba(75, 192, 192, 1)', // Border color
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true // Start y-axis at zero
                }
            },
            responsive: true,
            plugins: {
                legend: {
                    display: true // Show legend
                },
                title: {
                    display: true,
                    text: 'Monthly Earnings' // Chart title
                }
            }
        }
    });

    // Get the canvas context for the pie chart
    const pieCtx = document.getElementById('moneyFlowChart').getContext('2d');

    // Create a new pie chart
    const moneyFlowChart = new Chart(pieCtx, {
        type: 'pie', // Choose the type of chart (bar, line, pie, etc.)
        data: {
            labels: ['Income', 'Expenses', 'Savings'], // Labels for the pie chart segments
            datasets: [{
                label: 'Money Flow Distribution',
                data: [60, 25, 15], // Example data points representing percentages
                backgroundColor: [
                    'rgba(75, 192, 192, 0.6)', // Color for Income
                    'rgba(255, 99, 132, 0.6)', // Color for Expenses
                    'rgba(255, 206, 86, 0.6)'  // Color for Savings
                ],
                borderColor: [
                    'rgba(75, 192, 192, 1)', // Border color for Income
                    'rgba(255, 99, 132, 1)', // Border color for Expenses
                    'rgba(255, 206, 86, 1)'  // Border color for Savings
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: {
                    display: true // Show legend
                },
                title: {
                    display: true,
                    text: 'Money Flow Distribution' // Chart title
                }
            }
        }
    });
});

    
    document.addEventListener('DOMContentLoaded', function () {
        // Sample transactions
        const transactions = [
            { date: '2024-01-01', amount: 120, type: 'Deposit' },
            { date: '2024-01-15', amount: -50, type: 'Withdrawal' },
            { date: '2024-02-01', amount: 200, type: 'Deposit' },
            { date: '2024-02-10', amount: -100, type: 'Withdrawal' },
            { date: '2024-03-01', amount: 150, type: 'Deposit' }
        ];

        // Populate the transactions list
        const transactionsList = document.getElementById('transactionsList');
        transactions.forEach(transaction => {
            const li = document.createElement('li');
            li.textContent = `${transaction.date}: $${transaction.amount} (${transaction.type})`;
            transactionsList.appendChild(li);
        });
        transactions.forEach(transaction => {
    const li = document.createElement('li');
    const amountSpan = document.createElement('span');
    
    amountSpan.textContent = `$${Math.abs(transaction.amount)}`; // Absolute value for display
    amountSpan.className = transaction.amount > 0 ? 'amount deposit' : 'amount withdrawal'; // Conditional class
    
    li.textContent = `${transaction.date}: `;
    li.appendChild(amountSpan);
    transactionsList.appendChild(li);
});

        // Create the money flow chart
        const ctx = document.getElementById('moneyFlowChart').getContext('2d');
        const moneyFlowChart = new Chart(ctx, {
            type: 'line', // Change the type if you want a different chart
            data: {
                labels: transactions.map(t => t.date), // X-axis labels
                datasets: [{
                    label: 'Money Flow',
                    data: transactions.map(t => t.amount), // Y-axis data
                    backgroundColor: 'rgba(75, 192, 192, 0.6)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 2,
                    fill: false // Don't fill under the line
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                },
                responsive: true,
                plugins: {
                    legend: {
                        display: true
                    },
                    title: {
                        display: true,
                        text: 'Money Flow Over Time'
                    }
                }
            }
        });
    });
   

    let totalBalance = 56138.00; // Initial balance

document.getElementById('transferButton').addEventListener('click', function() {
    const amountInput = document.getElementById('transferAmount');
    const transferAmount = parseFloat(amountInput.value);

    if (!isNaN(transferAmount) && transferAmount > 0) {
        totalBalance += transferAmount; // Update total balance
        document.getElementById('balanceAmount').innerText = `$${totalBalance.toFixed(2)}`; // Update displayed balance
        alert(`Transferred $${transferAmount.toFixed(2)}. New Balance: $${totalBalance.toFixed(2)}`);
        amountInput.value = ''; // Clear the input
    } else {
        alert('Please enter a valid amount.');
    }
});

document.getElementById('withdrawButton').addEventListener('click', function() {
    // Redirect to payment page
    window.location.href = 'Payments.html'; // Update with your payment page URL
});

    </script>
</body>
</html>